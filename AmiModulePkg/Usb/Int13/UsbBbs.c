//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2012, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**      5555 Oakbrook Parkway, Suite 200, Norcross, GA 30093        **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************

///**********************************************************************
// $Header: $
//
// $Revision: $
//
// $Date: $
//**********************************************************************

//**********************************************************************
//<AMI_FHDR_START>
//
// Name:   UsbBbs.c
//
// Description: 
//
//<AMI_FHDR_END>
//**********************************************************************

#include <AmiDxeLib.h>
#include <Protocol/AmiUsbController.h>

//<AMI_PHDR_START>
//---------------------------------------------------------------------------
//
// Name:  CollectUsbBbsDevices
//
// Description: Create BBS table for each USB mass storage device.
//
//---------------------------------------------------------------------------
//<AMI_PHDR_END>

VOID
CollectUsbBbsDevices (
    VOID
)
{
    EFI_STATUS  Status;
    EFI_USB_PROTOCOL        *AmiUsb;

    Status = pBS->LocateProtocol(&gEfiUsbProtocolGuid, NULL, &AmiUsb);
    if (EFI_ERROR(Status)) {
        return;
    }

    AmiUsb->InstallUsbLegacyBootDevices();
}

//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2012, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**      5555 Oakbrook Parkway, Suite 200, Norcross, GA 30093        **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************