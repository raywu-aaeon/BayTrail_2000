//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2010, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**     5555 Oakbrook Pkwy, Suite 200, Norcross, GA 30093            **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************

//**********************************************************************
// $Header: /Alaska/SOURCE/Modules/TCG/TcgSetup/TcgSetup.sd 6     9/28/11 6:33p Fredericko $
//
// $Revision: 6 $
//
// $Date: 9/28/11 6:33p $
//**********************************************************************
//<AMI_FHDR_START>
//
// Name:	TCG.sd
//
// Description:	TCG Form Template
//
//<AMI_FHDR_END>
//**********************************************************************

#ifdef SETUP_DATA_DEFINITION
/***********************************************************/
/* Put NVRAM data definitions here.
/* For example: UINT8 Data1;
/* These definitions will be converted by the build process
/* to a definitions of SETUP_DATA fields.
/***********************************************************/
	UINT8 TpmEnable;
	UINT8 TpmOperation;
	UINT8 TpmEnaDisable;
	UINT8 TpmActDeact;
	UINT8 TpmOwnedUnowned;
	UINT8 TpmSupport;
    UINT8 TcgSupportEnabled;
    UINT8 TcmSupport;
	UINT8 TpmHrdW;
    UINT8 TpmAuthenticate;
	UINT8 SuppressTcg;
    UINT8 TpmError;
#endif

#if defined(VFRCOMPILE) && !defined(CONTROLS_ARE_DEFINED)
#define CONTROL_DEFINITION
#endif
#ifdef CONTROL_DEFINITION

#define TCG_ONEOF_TPMSUPPORT\
			oneof varid = SETUP_DATA.TpmSupport,\
				prompt = STRING_TOKEN(STR_TPM_SUPPORT_PROMPT ),\
				help = STRING_TOKEN(STR_TPMSUPPORT_HELP),\
				option text = STRING_TOKEN(STR_TPM_DISABLED), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_ENABLED),  value = 1, flags = RESET_REQUIRED;\
			endoneof;


#define TCG_ONEOF_TCMSUPPORT\
			oneof varid = SETUP_DATA.TpmSupport,\
				prompt = STRING_TOKEN(STR_TCM_SUPPORT_PROMPT ),\
				help = STRING_TOKEN(STR_TPMSUPPORT_HELP),\
				option text = STRING_TOKEN(STR_TPM_DISABLED), value = 0, flags =RESET_REQUIRED | MANUFACTURING | DEFAULT; \
				option text = STRING_TOKEN(STR_TPM_ENABLED),  value = 1, flags = RESET_REQUIRED;\
			endoneof;

#define TCG_ONEOF_TPMAUTHENTICATE\
			oneof varid  = SETUP_DATA.TpmAuthenticate,\
				prompt = STRING_TOKEN(STR_TPM_PASS_PROMPT),\
				help = STRING_TOKEN(STR_TPM_PASS_HELP),\
				option text = STRING_TOKEN(STR_TPM_DISABLED), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_ENABLED),  value = 1, flags = RESET_REQUIRED;\
			endoneof;

#define TCG_ONEOF_TPMENABLE\
            oneof varid = SETUP_DATA.TpmEnable,\
				prompt = STRING_TOKEN(STR_TPM_PROMPT),\
				help = STRING_TOKEN(STR_TPM_HELP),\
				option text = STRING_TOKEN(STR_TPM_DISABLED), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_ENABLED),  value = 1, flags = RESET_REQUIRED;\
			endoneof;

#define TCG_ONEOF_TCMENABLE\
			oneof varid = SETUP_DATA.TpmEnable,\
				prompt = STRING_TOKEN(STR_TCM_PROMPT),\
				help = STRING_TOKEN(STR_TPM_HELP),\
				option text = STRING_TOKEN(STR_TPM_DISABLED), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_ENABLED),  value = 1, flags = RESET_REQUIRED;\
			endoneof;

#define TCG_ONEOF_TPMOPERATION\
			oneof varid  = SETUP_DATA.TpmOperation,\
				prompt = STRING_TOKEN(STR_TPMOP_PROMPT),\
				help = STRING_TOKEN(STR_TPMOP_HELP),\
				option text = STRING_TOKEN(STR_TPM_NONE), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_OWNER), value = TCPA_PPIOP_OWNER_ON, flags = RESET_REQUIRED;\
				option text = STRING_TOKEN(STR_TPM_NOOWNER), value = TCPA_PPIOP_OWNER_OFF, flags = RESET_REQUIRED;\
				option text = STRING_TOKEN(STR_TPM_CLEAR), value = TCPA_PPIOP_CLEAR, flags = RESET_REQUIRED;\
			endoneof;


#define TCG_ONEOF_TCMOPERATION\
			oneof varid  = SETUP_DATA.TpmOperation,\
				prompt = STRING_TOKEN(STR_TPMOP_PROMPT),\
				help = STRING_TOKEN(STR_TPMOP_HELP),\
				option text = STRING_TOKEN(STR_TPM_NONE), value = 0, flags = RESET_REQUIRED | MANUFACTURING | DEFAULT;\
				option text = STRING_TOKEN(STR_TPM_OWNER), value = TCPA_PPIOP_OWNER_ON, flags = RESET_REQUIRED;\
				option text = STRING_TOKEN(STR_TPM_NOOWNER), value = TCPA_PPIOP_OWNER_OFF, flags = RESET_REQUIRED;\
				option text = STRING_TOKEN(STR_TCM_CLEAR), value = TCPA_PPIOP_CLEAR, flags = RESET_REQUIRED;\
			endoneof;


#define TCG_ONEOF_TPMENADISABLE\
			oneof varid  = SETUP_DATA.TpmEnaDisable,\
				prompt = STRING_TOKEN(STR_ENABLED_PROMPT),\
				help = STRING_TOKEN(STR_ONOFFSTATE_HELP),\
				option text = STRING_TOKEN(STR_TPMDISABLED), value = 1, flags = DEFAULT | MANUFACTURING;\
				option text = STRING_TOKEN(STR_TPMENABLED),  value = 0, flags = 0;\
			endoneof;

#define TCG_ONEOF_TCMENADISABLE\
			oneof varid  = SETUP_DATA.TpmEnaDisable,\
				prompt = STRING_TOKEN(STR_TCM_ENABLED_PROMPT),\
				help = STRING_TOKEN(STR_ONOFFSTATE_HELP),\
				option text = STRING_TOKEN(STR_TPMDISABLED), value = 1, flags = DEFAULT | MANUFACTURING;\
				option text = STRING_TOKEN(STR_TPMENABLED),  value = 0, flags = 0;\
			endoneof;

#define TCG_ONEOF_TPMACTDEACT\
			oneof varid  = SETUP_DATA.TpmActDeact,\
				prompt = STRING_TOKEN(STR_ACTIVATE_PROMPT),\
				help = STRING_TOKEN(STR_ONOFFSTATE_HELP),\
				option text = STRING_TOKEN(STR_TPMDEACTIVATED), value = 1, flags = DEFAULT | MANUFACTURING;\
				option text = STRING_TOKEN(STR_TPMACTIVATED), 	value = 0, flags = 0;\
			endoneof;

#define TCG_ONEOF_TCMACTDEACT\
			oneof varid  = SETUP_DATA.TpmActDeact,\
				prompt = STRING_TOKEN(STR_TCM_ACTIVATE_PROMPT),\
				help = STRING_TOKEN(STR_ONOFFSTATE_HELP),\
				option text = STRING_TOKEN(STR_TPMDEACTIVATED), value = 1, flags = DEFAULT |MANUFACTURING;\
				option text = STRING_TOKEN(STR_TPMACTIVATED), 	value = 0, flags = 0;\
			endoneof;

#define TCG_ONEOF_TPMOWNEDUNOWNED\
			oneof varid  = SETUP_DATA.TpmOwnedUnowned,\
				prompt 	= STRING_TOKEN(STR_OWNED_OR_UNOWNED_PROMPT),\
				help 	= STRING_TOKEN(STR_OWNED_OR_UNOWNED_HELP),\
				option text = STRING_TOKEN(STR_OWNED), 	  value = 1, flags = 0;\
				option text = STRING_TOKEN(STR_UNOWNED),  value = 0, flags = DEFAULT | MANUFACTURING;\
			endoneof;
			
#define TCG_ONEOF_TCMOWNEDUNOWNED\
			oneof varid  = SETUP_DATA.TpmOwnedUnowned,\
				prompt 	= STRING_TOKEN(STR_TCM_OWNED_OR_UNOWNED_PROMPT),\
				help 	= STRING_TOKEN(STR_OWNED_OR_UNOWNED_HELP),\
				option text = STRING_TOKEN(STR_OWNED), 	  value = 1, flags = 0;\
				option text = STRING_TOKEN(STR_UNOWNED),  value = 0, flags = DEFAULT |MANUFACTURING;\
			endoneof;

#endif //#ifdef CONTROL_DEFINITION

#ifdef CONTROLS_WITH_DEFAULTS
	TCG_ONEOF_TPMSUPPORT
	TCG_ONEOF_TCMSUPPORT
	TCG_ONEOF_TPMAUTHENTICATE
	TCG_ONEOF_TPMENABLE
	TCG_ONEOF_TCMENABLE
	TCG_ONEOF_TPMOPERATION
	TCG_ONEOF_TCMOPERATION
	TCG_ONEOF_TPMENADISABLE
	TCG_ONEOF_TCMENADISABLE
	TCG_ONEOF_TPMACTDEACT
	TCG_ONEOF_TCMACTDEACT
	TCG_ONEOF_TPMOWNEDUNOWNED
	TCG_ONEOF_TCMOWNEDUNOWNED
#endif //#ifdef CONTROLS_WITH_DEFAULTS

#ifdef FORM_SET_TYPEDEF
    #include <TcgSetupBoard.h>
    #include <token.h>
#endif // FORM_SET_TYPEDEF

#ifdef ADVANCED_FORM_SET
    #ifndef SUPPRESS_GRAYOUT_ENDIF //old Core
    #define SUPPRESS_GRAYOUT_ENDIF endif;
    #endif

	#ifdef FORM_SET_ITEM
	// Define controls to be added to the main page of the formset
	#endif

	#ifdef FORM_SET_GOTO
	// Define goto commands for the forms defined in this file
    suppressif ideqval SETUP_DATA.SuppressTcg == 1;
		goto TCG_FORM_ID, 
			prompt = STRING_TOKEN(STR_TCG_FORM),
			help = STRING_TOKEN(STR_TCG_FORM_HELP);
    endif;
	#endif

#ifdef FORM_SET_FORM

		#ifndef TCG_FORM_TCG
		#define TCG_FORM_TCG

		// Define forms
		form formid = AUTO_ID(TCG_FORM_ID),
		title = STRING_TOKEN(STR_TCG_FORM);
		
		
		SUBTITLE(STRING_TOKEN(STR_TPM_CONFIGURATION))

#if TPM_PASSWORD_AUTHENTICATION

        suppressif ideqval SETUP_DATA.TcmSupport == 1;
        grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1;
				
				TCG_ONEOF_TPMSUPPORT
				
		SUPPRESS_GRAYOUT_ENDIF  // suppress-grayout

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval AMITSESETUP.AdminPassword == 0 OR 
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
        grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
			
			TCG_ONEOF_TPMAUTHENTICATE
			
		SUPPRESS_GRAYOUT_ENDIF  // suppress-grayout

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1;
            
			TCG_ONEOF_TPMENABLE
			
	    SUPPRESS_GRAYOUT_ENDIF
	
		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1 OR
                ideqval SETUP_DATA.TpmActDeact == 1 OR
                ideqval SETUP_DATA.TpmEnable == 0;  
			
			TCG_ONEOF_TPMOPERATION
			
	    SUPPRESS_GRAYOUT_ENDIF

        suppressif ideqval SETUP_DATA.TcmSupport == 0;
        grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1;
			
			TCG_ONEOF_TCMSUPPORT
			
		SUPPRESS_GRAYOUT_ENDIF  // suppress-grayout

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval AMITSESETUP.AdminPassword == 0 OR 
               ideqval SETUP_DATA.TcmSupport == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
        grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
			
				TCG_ONEOF_TPMAUTHENTICATE
				
		SUPPRESS_GRAYOUT_ENDIF  // suppress-grayout

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1;
				
				TCG_ONEOF_TCMENABLE
				
	    SUPPRESS_GRAYOUT_ENDIF
	
		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER AND
                ideqval SETUP_DATA.TpmAuthenticate == 1 OR
                ideqval SETUP_DATA.TpmActDeact == 1 OR
                ideqval SETUP_DATA.TpmEnable == 0;  
			
			TCG_ONEOF_TPMOPERATION
			
	    SUPPRESS_GRAYOUT_ENDIF

#if DISPLAY_TPM_SETUP_ERROR == 1
        suppressif ideqval SETUP_DATA.TpmError == 0;
            text 
            help   = STRING_TOKEN(STR_EMPTY),
            text   = STRING_TOKEN(STR_TPM_SETUP_ERROR),
            text   = STRING_TOKEN(STR_EMPTY),
            flags  = 0,
            key    = 0; 
        endif;
#endif

#else

		suppressif ideqval SETUP_DATA.TcmSupport == 1;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
			
			TCG_ONEOF_TPMSUPPORT
			
		SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
            
			TCG_ONEOF_TPMENABLE
			
	    SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER OR
                ideqval SETUP_DATA.TpmActDeact == 1  OR
                ideqval SETUP_DATA.TpmEnable == 0;  
			
			TCG_ONEOF_TPMOPERATION
			
	    SUPPRESS_GRAYOUT_ENDIF


        suppressif ideqval SETUP_DATA.TcmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
			
			TCG_ONEOF_TCMSUPPORT
			
		SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER;
            
			TCG_ONEOF_TCMENABLE
			
	    SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2  OR
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SYSTEM_ACCESS.Access == SYSTEM_PASSWORD_USER OR
                ideqval SETUP_DATA.TpmActDeact == 1  OR
                ideqval SETUP_DATA.TpmEnable == 0;  
			
			TCG_ONEOF_TPMOPERATION
			
	    SUPPRESS_GRAYOUT_ENDIF

#endif
	
	SEPARATOR
	SEPARATOR

	SUBTITLE(STRING_TOKEN(STR_TPM_STATUS_INFO))

#if TCG_LEGACY == 0
		suppressif ideqval SETUP_DATA.TpmHrdW == 0 OR
                   ideqval SETUP_DATA.TpmHrdW == 2;
		text 
        help   = STRING_TOKEN(STR_EMPTY),
        text   = STRING_TOKEN(STR_TPMHARDWARE),
        text   = STRING_TOKEN(STR_EMPTY),
        flags  = 0,
        key    = 0; 
		endif;

		suppressif ideqval SETUP_DATA.TcgSupportEnabled == 1 OR
		     	   ideqval SETUP_DATA.TpmHrdW == 1 OR
                   ideqval SETUP_DATA.TpmHrdW == 2;
		text 
        help   = STRING_TOKEN(STR_EMPTY),
        text   = STRING_TOKEN(STR_TPMSUPP),
        text   = STRING_TOKEN(STR_EMPTY),
        flags  = 0,
        key    = 0; 
		endif;


		suppressif ideqval SETUP_DATA.TpmHrdW == 0 OR 
                   ideqval SETUP_DATA.TpmHrdW == 1;
		text 
        help   = STRING_TOKEN(STR_EMPTY),
        text   = STRING_TOKEN(STR_TPMOPTIMIZE),
        text   = STRING_TOKEN(STR_EMPTY),
        flags  = 0,
        key    = 0; 
		endif;
#endif
	
		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2 OR 
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				 ideqval SETUP_DATA.TpmEnable == 1;  
			
			TCG_ONEOF_TPMENADISABLE
			
	    SUPPRESS_GRAYOUT_ENDIF


		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2 OR 
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				 ideqval SETUP_DATA.TpmEnable == 1;  
				 
				 TCG_ONEOF_TPMACTDEACT
				 
	    SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2 OR 
               ideqval SETUP_DATA.TcmSupport == 1 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				ideqval SETUP_DATA.TpmEnable == 1; 
				
				TCG_ONEOF_TPMOWNEDUNOWNED
			
	    SUPPRESS_GRAYOUT_ENDIF


        suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2 OR 
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				 ideqval SETUP_DATA.TpmEnable == 1;  
			
			TCG_ONEOF_TCMENADISABLE
			
	    SUPPRESS_GRAYOUT_ENDIF


		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR 
               ideqval SETUP_DATA.TpmHrdW == 2 OR 
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				 ideqval SETUP_DATA.TpmEnable == 1;  
			
			TCG_ONEOF_TCMACTDEACT
			
	    SUPPRESS_GRAYOUT_ENDIF

		suppressif ideqval SETUP_DATA.TpmHrdW == 1 OR
               ideqval SETUP_DATA.TpmHrdW == 2 OR  
               ideqval SETUP_DATA.TcmSupport == 0 OR
               ideqval SETUP_DATA.TcgSupportEnabled == 0 OR
			   ideqval SETUP_DATA.TpmSupport == 0;
		grayoutif ideqval SETUP_DATA.TpmEnable == 0 OR  
				ideqval SETUP_DATA.TpmEnable == 1; 
			
			TCG_ONEOF_TCMOWNEDUNOWNED
			
	    SUPPRESS_GRAYOUT_ENDIF

#if DISPLAY_TPM_SETUP_ERROR == 1
        suppressif ideqval SETUP_DATA.TpmError == 0;
            text 
            help   = STRING_TOKEN(STR_EMPTY),
            text   = STRING_TOKEN(STR_TPM_SETUP_ERROR),
            text   = STRING_TOKEN(STR_EMPTY),
            flags  = 0,
            key    = 0; 
        endif;
#endif		

	endform; 
	#endif // #ifndef TCG_FORM_TCG

  #endif
#endif  // ADVANCED_FORM_SET
//**********************************************************************
//**********************************************************************
//**                                                                  **
//**        (C)Copyright 1985-2010, American Megatrends, Inc.         **
//**                                                                  **
//**                       All Rights Reserved.                       **
//**                                                                  **
//**     5555 Oakbrook Pkwy, Suite 200, Norcross, GA 30093            **
//**                                                                  **
//**                       Phone: (770)-246-8600                      **
//**                                                                  **
//**********************************************************************
//**********************************************************************
